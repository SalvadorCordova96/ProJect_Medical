# =============================================================================
# PodoSkin API - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# =============================================================================

# ========== Database Configuration ==========
# PostgreSQL connection URLs for the three databases
# Format: postgresql://username:password@host:port/database_name
AUTH_DB_URL=postgresql://podoskin:podoskin123@localhost:5432/clinica_auth_db
CORE_DB_URL=postgresql://podoskin:podoskin123@localhost:5432/clinica_core_db
OPS_DB_URL=postgresql://podoskin:podoskin123@localhost:5432/clinica_ops_db

# ========== JWT Configuration ==========
# Secret key for signing JWT tokens - CHANGE THIS IN PRODUCTION
# Use a strong random string (e.g., output of: openssl rand -hex 32)
JWT_SECRET_KEY=tu-super-secreto-cambiar-en-produccion-1234567890
JWT_ALGORITHM=HS256
# Token expiration time in minutes (default: 480 = 8 hours)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=480

# ========== Application Configuration ==========
APP_NAME=PodoSkin API
APP_VERSION=1.0.0
# Set to False in production
DEBUG=True

# ========== CORS Configuration ==========
# Allowed origins for CORS (comma-separated)
# Use "*" for development, specify exact domains in production
# Example: https://app.podoskin.com,https://admin.podoskin.com
CORS_ORIGINS=*

# ========== Account Security ==========
# Maximum failed login attempts before account lockout
MAX_FAILED_LOGIN_ATTEMPTS=5
# Account lockout duration in minutes
ACCOUNT_LOCKOUT_MINUTES=15

# ========== Anthropic Claude Configuration ==========
# REQUIRED: Anthropic API key for the LangGraph agent
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Claude model configuration
CLAUDE_MODEL=claude-3-5-haiku-20241022
CLAUDE_MAX_TOKENS=4096
CLAUDE_TEMPERATURE=0.1

# ========== Embeddings Configuration ==========
# Local embeddings model for semantic search
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_DEVICE=cpu

# ========== ChromaDB Configuration ==========
# Vector database for schema embeddings
CHROMA_PERSIST_DIR=data/chroma_db
CHROMA_COLLECTION_NAME=podoskin_schema

# ========== Agent Behavior Configuration ==========
# LangGraph agent settings
AGENT_MAX_RETRIES=2
AGENT_TIMEOUT_SECONDS=30
AGENT_MAX_RESULTS=100
AGENT_FUZZY_THRESHOLD=0.6
ENABLE_SUBGRAPH_ARCHITECTURE=True

# ========== Agent Logging ==========
AGENT_LOG_LEVEL=INFO
AGENT_LOG_QUERIES=True
AGENT_LOG_RESPONSES=False

# ========== Email Notifications ==========
# SMTP configuration for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
# Email credentials - use app-specific password for Gmail
SMTP_USER=
SMTP_PASSWORD=
FROM_EMAIL=noreply@podoskin.com
